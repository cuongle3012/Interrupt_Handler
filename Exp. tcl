# Only process generated clocks
if {$is_generated eq "TRUE"} {

    # Start tracing from current clock
    set cur_clk $clockname

    while {1} {

        # Get master clock of current clock
        set next_clk \
            [get_object_name [get_attribute [get_clock $cur_clk] master_clock]]

        # No master means current clock is root
        if {$next_clk eq ""} {
            break
        }

        # Move upward
        set cur_clk $next_clk
    }

    # cur_clk is now the ROOT clock
    set master_clock $cur_clk
}
